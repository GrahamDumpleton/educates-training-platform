#@data/values-schema
---

#! The version of Educates to be used.

version: "latest"

#! The namespace in which to deploy Educates.

namespace:
  name: "eduk8s"
  owner: true

#! Settings for customizing API group and resource naming conventions.

operatorApiGroup: eduk8s.io
resourceStatusKey: eduk8s
resourceNamePrefix: eduk8s

#! DNS parent subdomain used for training portal and workshop ingresses.

ingressDomain: "local.educates.dev"

#! Ingress class for where multiple ingress controllers exist and need to
#! use that which is not marked as the default.

ingressClass: ""

#! TLS certificate for secure ingress. Must be a wildcard certificate for
#! children of DNS parent ingress subdomain. Full certificate chain and
#! private key need to be defined in the values. Will be ignored if the
#! "tlsCertificateRef" setting is defined.

tlsCertificate:
  tls.crt: ""
  tls.key: ""

#! Reference to TLS certificate for secure ingress. Must be a wildcard
#! certificate for children of DNS parent ingress subdomain. Takes precedence
#! over "tlsCertificate" setting. If namespace is not specified it is assumed
#! to be the Educates namespace.

tlsCertificateRef:
  namespace: ""
  name: ""

#! Configuration for persistent volumes. The default storage class specified
#! by the cluster will be used if not defined. Storage group may need to be
#! set where a cluster has pod security policies enabled, usually setting it
#! to one. Storage user and storage group can be set in exceptional case
#! where storage class used maps to NFS storage and storage server requires
#! specific user and group always be used.

storageClass: ""
storageUser: ""
storageGroup: ""

#! Credentials for accessing training portal instances. If not specified then
#! random passwords are generated which can be obtained from the custom resource
#! for the training portal.

portalCredentials:
  systemAdmin:
    #@schema/nullable
    username: "educates"
    password: ""
  clientAccess:
    #@schema/nullable
    username: "robot@educates"
    password: ""

#! Primary image registry where Educates container images are stored. It
#! is only necessary to define credentials when that image registry requires
#! authentication to access images. If images are hosted at the root of the
#! image registry, the namespace setting can be left empty.

imageRegistry:
  host: ""
  namespace: ""
  username: ""
  password: ""

#! References to image pull secrets for additional image registries hosting
#! Educates container images, or custom workshop images.

imagePullSecretRefs:
- namespace: ""
  name: ""

#! Container image versions for various components of Educates.

imageVersions:
- name: ""
  image: ""

#! Prepull images to nodes in cluster. Should be empty list if no images
#! should be prepulled. Normally you would only want to prepull workshop
#! images. This is done to reduce start up times for sessions.

#@schema/default ["base-environment"]
prepullImages:
- ""

#! Docker daemon settings when building docker images in a workshop is
#! enabled. Proxy cache provides a way of partially getting around image
#! pull limits for Docker Hub image registry, with the remote URL being
#! set to "https://registry-1.docker.io".

dockerDaemon:
  #@schema/nullable
  networkMTU: 1400
  #@schema/nullable
  rootless: true
  proxyCache:
    remoteURL: ""
    username: ""
    password: ""
